/*!
 * bootstrap-commons.less v1.0.0
 *
 * Copyright (c) 2012-2014, NathanaÃ«l Mariani <github@nmariani.fr>
 * For the full copyright and license information, please view the LICENSE
 * file that was distributed with this source code.
 */


/*------------------------------*
 * Bootstrapp commons           *
 *------------------------------*/
@import "commons";


/*------------------------------*
 * Twitter Bootstrap commons    *
 *------------------------------*/

// Dropdown
// --------------------
.nav.dropdown-hover .dropdown:hover > .dropdown-menu {
  display: block;
}
.dropdown-menu {
  min-width: 100px;
  margin:0;
}
// Hover state
.dropdown-menu a:hover,
.dropdown-menu .active a,
.dropdown-menu .active a:hover {
  color: @white;
  text-decoration: none;
  background-color: @baseColor;
}
.dropdown-menu li a:hover > [class^="icon-"],
.dropdown-menu li a:hover > [class*=" icon-"],
.dropdown-menu .active a > [class^="icon-"],
.dropdown-menu .active a > [class*=" icon-"],
.dropdown-menu .active a:hover > [class^="icon-"],
.dropdown-menu .active a:hover > [class*=" icon-"] {
  color: @white;
}
// form
.dropdown-menu li form {
  margin:0;
  a {
    display: block;
    padding: 3px 20px;
    clear: both;
    font-weight: normal;
    white-space: nowrap;
  }
}
.locale-dropdown {
  &.flags {
    a {
      padding-left: 45px;
      background-position: 15px center;
      background-repeat: no-repeat;
      // loop countries
      @countries: ad,ae,af,ag,ai,al,am,an,ao,aq,ar,as,at,au,aw,ax,az,ba,bb,bd,be,bf,bg,bh,bi,bj,bl,bm,bn,bo,br,bs,bt,bv,bw,by,bz,ca,cc,cd,cf,cg,ch,ci,ck,cl,cm,cn,co,cr,cu,cv,cw,cx,cy,cz,de,dj,dk,dm,do,dz,ec,ee,eg,eh,er,es,et,fi,fj,fk,fm,fo,fr,ga,gb,gd,ge,gf,gg,gh,gi,gl,gm,gn,gp,gq,gr,gs,gt,gu,gw,gy,hk,hm,hn,hr,ht,hu,id,ie,il,im,in,io,iq,ir,is,it,je,jm,jo,jp,ke,kg,kh,ki,km,kn,kp,kr,kw,ky,kz,la,lb,lc,li,lk,lr,ls,lt,lu,lv,ly,ma,mc,md,me,mf,mg,mh,mk,ml,mm,mn,mo,mp,mq,mr,ms,mt,mu,mv,mw,mx,my,mz,na,nc,ne,nf,ng,ni,nl,no,np,nr,nu,nz,om,pa,pe,pf,pg,ph,pk,pl,pm,pn,pr,ps,pt,pw,py,qa,re,ro,rs,ru,rw,sa,sb,sc,sd,se,sg,sh,si,sj,sk,sl,sm,sn,so,sr,ss,st,sv,sw,sy,sz,tc,td,tf,tg,th,tj,tk,tl,tm,tn,to,tr,tt,tv,tw,tz,ua,ug,um,us,uy,uz,va,vc,ve,vg,vi,vn,vu,wf,ws,ye,yt,za,zm,zw;
      .country-flag(@index) when (@index > 0) {
        .country-flag(@index - 1);
        @country: e(extract(@countries, @index));
        &.flag-@{country} {
          background-image: url("/bundles/bootstrapp/images/flags/@{country}.png");
        }
      }
      .country-flag(0) {}
      .country-flag(length(@countries));
      // main languages
      &.flag-en { // english => british english (GB)
        background-image: url("/bundles/bootstrapp/images/flags/gb.png");
      }
      &.flag-ja { // japanese => japan (JP)
        background-image: url("/bundles/bootstrapp/images/flags/jp.png");
      }
      &.flag-zh { // chinese => china (CN)
        background-image: url("/bundles/bootstrapp/images/flags/cn.png");
      }
    }
  }
  img {
    margin-top: -4px;
    max-height: 20px;
  }
}

// Navbar / Nav
// --------------------
.navbar .nav li.dropdown.open > .dropdown-toggle,
.navbar .nav li.dropdown.active > .dropdown-toggle,
.navbar .nav li.dropdown.open.active > .dropdown-toggle {
  background-color: transparent;
}
.navbar-inverse li a > [class^="icon-"],
.navbar-inverse li a > [class*=" icon-"] {
  color: @white;
}
.nav img {
  max-height: 18px;
}
.navbar .nav {
  a, p, h1, h2, h3, h4 {
    -moz-user-select: none;
    -ms-user-select: none;
    -webkit-user-select: none;
    user-select: none;
  }
}

// Tabs
// -------------------------
.nav-tabs-wrapper {
  .flexbox();
  position: absolute;
  width: 100%;
  z-index: 1;
  overflow: hidden;

  > .nav-tabs {
    position: relative;
    .flex(1, 1, auto);
    overflow: hidden;
    white-space: nowrap;
    border-bottom: none;

    > li {
      float:none;
      display:inline-block;

      > a {
        margin-right: 0;
      }
    }
  }

  > button {
    .flex(0, 0, auto);
    display: none;
    background: @gray-lighter;
    width: 30px;
    z-index: 1;
  }
}

// Footer
// --------------------
body > footer {
  > span {
    display: inline-block;
    text-align: left;
    font-size: 13px;
    &:not(:first-child) {
      margin-left: 10px;
    }
  }
  .locale-dropdown {
    .dropdown-menu {
      z-index: 0;
      width:190px;
      left: 0;
      right: auto;
      margin-bottom: 5px;
      margin-left: -20px;
      border-radius: 6px 6px 0 0;
      border: none;
      .box-shadow(none);
    }
  }
}

// Forms
// --------------------
.form-horizontal {
  input[type="radio"] {
    margin: 0;
    vertical-align: 1px;

    &:not(:first-of-type) {
        margin-left: 10px;
    }

    + .control-label {
        display: inline-block;
        margin-left: 5px;
    }
  }
}
[data-type="datetime"] {
  .input-append:not(:first-of-type),
  .input-prepend:not(:first-of-type) {
    margin-left: -1px;
  }

  .input-prepend:not(:first-of-type),
  .input-append:not(:last-of-type) {
    .add-on {
      border-radius: 0;
    }
  }

  .input-prepend:not(:last-of-type),
  .input-append:not(:first-of-type) {
    input {
      border-radius: 0;
    }
  }
}
.clear-form-horizontal {
  .control-label,
  .control-label + div {
    float: none;
    width: auto;
    text-align: left;
    margin-left: 0;
  }
}

// Thumbnails
// --------------------
.thumbnail {
  background-color: @white;
  min-width: 30px;
  min-height: 30px;

  &.circle,
  &.square,
  &.ratio1_1,
  &.ratio1_2,
  &.ratio2_1,
  &.ratio3_1,
  &.ratio4_3,
  &.ratio16_9 {
    > div:first-child,
    > span:first-child,
    > i:first-child {
      top: 4px;
      right: 4px;
      bottom: 4px;
      left: 4px;
    }
    > img:first-child {
      padding: 4px;
      .box-sizing(border-box);
    }
  }

  &.circle {
    > *:first-child {
      border-radius: 50%;
    }
  }

  &.thumbnail-xs {
    max-width: 30px;
    max-height: 30px;
  }

  &.thumbnail-sm {
    max-width: 50px;
    max-height: 50px;
  }

  &.thumbnail-md {
    max-width: 80px;
    max-height: 80px;
  }

  &.thumbnail-lg {
    max-width: 120px;
    max-height: 120px;
  }
}
.thumbnail > i:first-child:last-child {
  position: absolute;
  top: 0;
  right: 0;
  bottom: 0;
  left: 0;
  margin: auto;
  height: 46px;
  width: 46px;
  font-size: 46px;
  line-height: 46px;
  text-align: center;
}
table > tbody > tr > td > .thumbnail {
  width: 50px;
  .ratio(1, 1);

  > *:first-child:not(img) {
    top: 2px;
    right: 2px;
    bottom: 2px;
    left: 2px;
  }
}

.flashes {
    margin-bottom: 20px;
    &:empty {
      display: none;
      margin-bottom: 0;
    }
}